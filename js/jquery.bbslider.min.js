/*!
 * Bare Bones Slider
 * http://www.bbslider.com/
 *
 * Author
 * Richard Hung
 * http://www.magicmediamuse.com/
 *
 * Version
 * 1.2.8
 *
 * Copyright (c) 2016 Richard Hung.
 *
 * License
 * Bare Bones Slider by Richard Hung is licensed under a Creative Commons Attribution-NonCommercial 3.0 Unported License.
 * http://creativecommons.org/licenses/by-nc/3.0/deed.en_US
 */

!function(e){"use strict";var a={init:function(a){var t={page:1,duration:1e3,controls:!1,controlsText:['<a class="prev control" href="#">Prev</a>','<a class="next control" href="#">Next</a>'],pager:!1,pagerWrap:".pager-wrap",pageInfo:!1,infoWrap:".info-wrap",onDemand:!1,placeholder:"/images/blank.gif",auto:!1,timer:5e3,loop:!0,transition:"fade",callbackStart:null,callbackBefore:null,callbackAfter:null,callbackUpdate:null,easing:"ease",autoHeight:!0,dynamicHeight:!1,pauseOnHit:!0,randomPlay:!1,loopTrans:!0,touch:!1,touchoffset:50,dragControls:!1,dragoffset:50,carousel:!1,carouselMove:1};return a=e.extend({},t,a),this.each(function(){var t=e(this),s=t.children(),i=a.page-1,r=a.page-1,n=s.length;if(t.data({autoPlay:!1,pIndex:i,xIndex:i,cIndex:r,pCount:n,settings:a}),t.addClass("bbslider-wrapper"),s.addClass("panel"),a.loop?t.addClass("loop-true"):t.addClass("loop-false"),a.onDemand&&(t.bbslider("placeholder"),s.eq(i).bbslider("loadImg")),a.pageInfo&&t.bbslider("infoParse"),a.pager&&t.bbslider("pager",a.pagerWrap),a.controls){var d=t.bbslider("controls"),l=d.next,o=d.prev;l.click(function(e){t.bbslider("next"),e.preventDefault(),a.pauseOnHit&&t.bbslider("autoPlayPause")}),o.click(function(e){t.bbslider("prev"),e.preventDefault(),a.pauseOnHit&&t.bbslider("autoPlayPause")})}if(a.touch||a.dragControls){var c,u,p,f="",h="";a.touch&&(f+="touchstart ",h+="touchend "),a.dragControls&&(f+="mousedown ",h+="mouseup "),t.on(f,function(e){e.preventDefault();a=e;if("mousedown"!=e.type)var a=e.originalEvent.touches[0]||e.originalEvent.changedTouches[0];c=a.pageX}),t.on(h,function(e){e.preventDefault();s=e;if(p=a.dragoffset,"mouseup"!=e.type){var s=e.originalEvent.touches[0]||e.originalEvent.changedTouches[0];p=a.touchoffset}(u=s.pageX)>c+p?(t.bbslider("prev"),a.pauseOnHit&&t.bbslider("autoPlayPause")):u<c-p&&(t.bbslider("next"),a.pauseOnHit&&t.bbslider("autoPlayPause"))})}a.auto&&(t.data("autoPlay",!0),t.bbslider("autoPlayStart")),t.bbslider("setup"),a.autoHeight&&t.bbslider("recalcHeight");var b=a.callbackStart;e.isFunction(b)&&b.call(this)})},update:function(){return this.each(function(){var a=e(this),t=a.children(":not(.control-wrapper)"),s=t.length,i=a.data("settings"),r=a.data("pIndex"),n=i.onDemand,d=i.pageInfo,l=i.pager,o=i.autoHeight,c=i.callbackUpdate;a.data("pCount",s),t.addClass("panel"),n&&(a.bbslider("placeholder"),t.eq(r).bbslider("loadImg")),d&&a.bbslider("infoParse"),l&&a.bbslider("pager"),a.bbslider("setup"),o&&a.bbslider("recalcHeight"),e.isFunction(c)&&c.call(this)})},destroy:function(){return this.each(function(){var a=e(this),t=a.children(".panel"),s=a.data("settings"),i=a.attr("id");switch(a.removeClass("bbslider-wrapper first-panel last-panel loop-true loop-false carousel ease linear ease-in ease-out ease-in-out easeInQuad easeInCubic easeInQuart easeInQuint easeInSine easeInExpo easeInCirc easeInBack easeOutQuad easeOutCubic easeOutQuart easeOutQuint easeOutSine easeOutExpo easeOutCirc easeOutBack easeInOutQuad easeInOutCubic easeInOutQuart easeInOutQuint easeInOutSine easeInOutExpo easeInOutCirc easeInOutBack"),t.removeClass("panel active slide fade blind none slideVert").removeAttr("style"),a.css("height",""),a.data("onDemand")&&t.bbslider("loadImg"),a.data("pageInfo")&&a.data("infoWrap").empty(),s.transition){case"fade":t.removeClass("fade");break;case"slide":t.removeClass("slide");break;case"slideVert":t.removeClass("slideVert");break;case"blind":t.removeClass("blind"),a.find(".panel-inner").contents().unwrap();break;case"none":default:t.removeClass("none")}s.pager&&e("#"+i+"-pager").remove(),a.children(".prev-control-wrapper").remove(),a.children(".next-control-wrapper").remove(),a.data("autoPlay")&&a.bbslider("autoPlayPause"),a.removeData()})},recalcHeight:function(){return this.each(function(){var a,t=e(this),s=t.children(".panel"),i=t.data("settings"),r=t.data("pIndex"),n=t.data("pCount"),d=i.autoHeight,l=i.dynamicHeight,o=i.carousel,c=0,u=0;if(l&&d)if(o){a=r+parseInt(o);for(var p=r;p<a;p++){var f;f=p<n?p:p-n,(u=s.eq(f).outerHeight(!0))>c&&(c=u)}}else c=s.eq(r).outerHeight(!0);else s.each(function(){(u=e(this).outerHeight(!0))>c&&(c=u)});t.height(c)})},autoPlayStart:function(){return this.each(function(){var a=e(this),t=a.data("settings"),s=a.data("autoPlay"),i=t.randomPlay;if(s){var r=t.duration,n=t.timer,d=setInterval(function(){i?a.bbslider("randomSlide"):a.bbslider("next")},n+r);a.data("tid",d)}})},autoPlayPause:function(){return this.each(function(){var a=e(this),t=a.data("tid");a.data("autoPlay")&&(clearInterval(t),a.data("autoPlay",!1))})},autoPlayReset:function(){return this.each(function(){console.log("reset");var a=e(this),t=a.data("tid");a.data("autoPlay")&&(clearInterval(t),a.bbslider("autoPlayStart"))})},randomSlide:function(){return this.each(function(){var a=e(this),t=a.data("settings"),s=a.data("pCount"),i=a.data("pIndex"),r=t.loopTrans,n=Math.round(1+Math.floor(Math.random()*s))-1;r?(a.data("cIndex",i),a.data("pIndex",n),a.bbslider("forPage",n)):a.bbslider("travel",n)})},setup:function(){var a=this,t=a.children(".panel"),s=a.data("settings"),i=a.data("pIndex"),r=a.data("pCount"),n=s.transition,d=s.duration,l=s.carousel;if(t.addClass("init "+n),l){a.addClass("carousel "+s.easing);var o=100/parseInt(l),c=i+parseInt(l),u=f,p=0;t.css({width:o+"%",left:"100%"});for(var f=i;f<c;f++)u=f,f>=r&&(u=f-r),t.eq(u).css("left",p+"%"),p+=o,"fade"===n&&t.eq(u).css("opacity",1)}else switch(a.addClass(s.easing),n){case"fade":t.eq(i).show().css("opacity",1);break;case"slide":t.css("transform","translateX(100%)").eq(i).css("transform","translateX(0%)");break;case"slideVert":t.css("transform","translateY(100%)").eq(i).css("transform","translateY(0%)");break;case"blind":var h=a.width();t.children(".panel-inner").contents().unwrap(),t.wrapInner('<div class="panel-inner" />'),t.addClass("blind init").eq(i).css({width:"100%"}),t.children(".panel-inner").width(h);var b=0;t.children(".panel-inner").each(function(){var a=e(this).wrapInner("<div>").children().outerHeight(!0);a>b&&(b=a),e(this).children().contents().unwrap()}),t.height(b),t.children(".panel-inner").height(b)}t.eq(i).addClass("active"),a.add(t).css({WebkitTransitionDuration:d/1e3+"s",MozTransitionDuration:d/1e3+"s",OTransitionDuration:d/1e3+"s",transitionDuration:d/1e3+"s"})},placeholder:function(){var a=this.data("settings").placeholder;this.children(".panel").find("img").each(function(){e(this).attr("data-placeholder")||(e(this).attr("data-placeholder",e(this).attr("src")),e(this).attr("src",a))})},loadImg:function(){this.find("img").each(function(){e(this).attr("src",e(this).attr("data-placeholder")).removeAttr("data-placeholder")})},infoParse:function(){var a=this,t=a.data("settings"),s=a.data("pCount"),i=a.data("pIndex")+1;e(t.infoWrap).text(i+" of "+s)},pager:function(){var a=this,t=a.children(".panel"),s=a.data("pCount"),i=a.data("settings"),r=a.attr("id"),n=e(i.pagerWrap);n.find("#"+r+"-pager").remove();for(var d=e('<ul class="page-list" id="'+r+'-pager" />').appendTo(n),l=1;l<=s;l++){var o;o=t.eq(l-1).attr("title")?t.eq(l-1).attr("title"):l,e('<li><a href="#'+l+'" data-link="'+r+'" class="bb-pager-link">'+o+"</a></li>").appendTo(d)}d.find("a").bbslider("bindpager"),a.bbslider("pagerUpdate")},pagerUpdate:function(){var a=this.attr("id"),t=this.data("pIndex");e("#"+a+"-pager").children().removeClass("activePanel").eq(t).addClass("activePanel")},bindpager:function(){return this.on("click",function(a){var t=e(this).attr("href"),s=t.substring(t.indexOf("#")),i=parseInt(s.substring(1))-1,r=e(this).attr("data-link"),n=e("#"+r),d=n.data("pIndex"),l=n.data("settings").pauseOnHit;i>d?(n.data("cIndex",d),d=i,n.data("pIndex",d),n.bbslider("forPage",d)):i<d&&(n.data("cIndex",d),d=i,n.data("pIndex",d),n.bbslider("backPage",d)),l&&n.bbslider("autoPlayPause"),a.preventDefault()})},controls:function(){var a=this.data("settings"),t=this.data("pIndex"),s=this.data("pCount"),i=(a.loop,e(a.controlsText[1]).prependTo(this)),r=e(a.controlsText[0]).prependTo(this);i.wrap('<div class="next-control-wrapper control-wrapper" />'),r.wrap('<div class="prev-control-wrapper control-wrapper" />');this.children(".next-control-wrapper"),this.children(".prev-control-wrapper");0===t&&this.addClass("first-panel"),s<=t+1&&this.addClass("last-panel");var n={};return n.next=i,n.prev=r,n},prev:function(){return this.each(function(){var a=e(this),t=a.data("settings"),s=t.loop,i=a.data("pCount"),r=a.data("pIndex"),n=t.loopTrans,d=t.carousel,l=t.carouselMove,o=r,c=t.callbackBefore,u=!1;if(d?((r=o-l)<0&&(r+=i),u="carousel"):r>0?(r=o-1,u="backward"):s&&(u="end",r=i-1),a.data("xIndex",r),e.isFunction(c)&&!1===c.call(this))return!1;a.data("cIndex",o),a.data("autoPlay")&&a.bbslider("autoPlayReset"),a.data("pIndex",r),"carousel"==u||"backward"==u?a.bbslider("backPage",r):"end"==u&&(n?a.bbslider("backPage",r):a.bbslider("forPage",r))})},next:function(){return this.each(function(){var a=e(this),t=a.data("settings"),s=a.data("pCount"),i=a.data("pIndex"),r=t.loop,n=t.loopTrans,d=t.carousel,l=t.carouselMove,o=i,c=t.callbackBefore,u=!1;if(d?(s<(i=o+l)+d+1&&(i-=s),u="carousel"):s>i+1?(i=o+1,u="forward"):r&&(i=0,u="first"),a.data("xIndex",i),e.isFunction(c)&&!1===c.call(this))return!1;a.data("cIndex",o),a.data("autoPlay")&&a.bbslider("autoPlayReset"),a.data("pIndex",i),"carousel"==u||"forward"==u?a.bbslider("forPage",i):"first"==u&&(n?a.bbslider("forPage",i):a.bbslider("backPage",i))})},travel:function(a){return this.each(function(){var t,s=e(this),i=s.data("settings"),r=s.data("pIndex"),n=s.data("pCount"),d=i.carousel,l=i.callbackBefore;if(s.data("xIndex",a),e.isFunction(l)&&!1===l.call(this))return!1;if(s.data("autoPlay")&&s.bbslider("autoPlayReset"),d){t=r,r=a,s.data("pIndex",r),s.data("cIndex",t);var o,c;r>t?(o=r-n,c=r):(o=r,c=r+n);var u=[o,c],p=t,f=null;e.each(u,function(){(null===f||Math.abs(this-p)<Math.abs(f-p))&&(f=this)}),f>p?s.bbslider("forPage",r):s.bbslider("backPage",r)}else r<a?(t=r,r=a,s.data("pIndex",r),s.data("cIndex",t),s.bbslider("forPage",r)):r>a&&(t=r,r=a,s.data("pIndex",r),s.data("cIndex",t),s.bbslider("backPage",r))})},backPage:function(){return this.each(function(){var a=e(this),t=a.children(".panel"),s=a.data("settings"),i=a.data("pIndex"),r=(s.loop,s.transition),n=s.carousel,d=s.autoHeight,l=s.dynamicHeight,o=s.duration;if(t.removeClass("active").eq(i).addClass("active"),s.onDemand&&t.eq(i).bbslider("loadImg"),a.children(".panel").stop(!0,!0),n)switch(r){case"fade":a.bbslider("carFade");break;case"slide":a.bbslider("carSlideBack");break;case"none":default:a.bbslider("carToggle")}else switch(r){case"fade":a.bbslider("fade");break;case"slide":a.bbslider("slideBack");break;case"slideVert":a.bbslider("slideVertBack");break;case"blind":a.bbslider("blindBack")}0===i&&a.addClass("first-panel"),a.removeClass("last-panel"),s.pageInfo&&a.bbslider("infoParse"),a.bbslider("pagerUpdate"),l&&d&&a.bbslider("recalcHeight");var c=s.callbackAfter;e.isFunction(c)&&setTimeout(function(){c.call(this)},o)})},forPage:function(){return this.each(function(){var a=e(this),t=a.children(".panel"),s=a.data("settings"),i=a.data("pCount"),r=a.data("pIndex"),n=(s.loop,s.carousel),d=s.transition,l=s.autoHeight,o=s.dynamicHeight,c=s.duration;if(t.removeClass("active").eq(r).addClass("active"),s.onDemand&&t.eq(r).bbslider("loadImg"),a.children(".panel").stop(!0,!0),n)switch(d){case"fade":a.bbslider("carFade");break;case"slide":a.bbslider("carSlideFor");break;case"none":default:a.bbslider("carToggle")}else switch(d){case"fade":a.bbslider("fade");break;case"slide":a.bbslider("slideFor");break;case"slideVert":a.bbslider("slideVertFor");break;case"blind":a.bbslider("blindFor")}i<=r+1&&a.addClass("last-panel"),a.removeClass("first-panel"),s.pageInfo&&a.bbslider("infoParse"),a.bbslider("pagerUpdate"),o&&l&&a.bbslider("recalcHeight");var u=s.callbackAfter;e.isFunction(u)&&setTimeout(function(){u.call(this)},c)})},carToggle:function(){var e=this,a=e.children(".panel"),t=e.data("settings"),s=e.data("pCount"),i=e.data("pIndex"),r=t.carousel,n=100/parseInt(r),d=i+parseInt(r);a.css("left","100%");for(var l=0,o=i;o<d;o++){var c;c=o<s?o:o-s,a.eq(c).css("left",l+"%"),l+=n}},carFade:function(){var e=this,a=e.children(".panel"),t=e.data("settings"),s=e.data("pCount"),i=e.data("pIndex"),r=t.duration,n=t.carousel,d=100/parseInt(n),l=i+parseInt(n),o=e.data("resetSlides"),c=e.data("resetTimeout");c&&(o(),clearTimeout(c)),a.removeClass("init").css("opacity",0),o=function(){a.addClass("init").css("left","100%");for(var e=0,t=i;t<l;t++){var r;r=t<s?t:t-s,a.eq(r).css("left",e+"%"),a.eq(r).removeClass("init").css("opacity",1),e+=d}c=!1},c=setTimeout(o,r),e.data({resetSlides:o,resetTimeout:c})},carSlideFor:function(){var e,a,t,s,i=this,r=i.children(".panel"),n=i.data("settings"),d=i.data("pIndex"),l=i.data("cIndex"),o=i.data("pCount"),c=n.duration,u=n.carousel,p=d-l,f=100/parseInt(u),h=f*p,b=d+parseInt(u);d<l&&(h=f*(p=d-l+o),b+=o);var g=i.data("resetSlides"),m=i.data("resetTimeout");for(m&&(g(),clearTimeout(m)),a=(e=0)-h,s=l;s<b;s++)t=s<o?s:s-o,r.eq(t).css("left",e+"%"),r.eq(t).css("display"),r.eq(t).removeClass("init").css("left",a+"%"),e+=f,a+=f;g=function(){r.addClass("init"),m=!1},m=setTimeout(g,c),i.data({resetSlides:g,resetTimeout:m})},carSlideBack:function(){var e,a,t,s,i=this,r=i.children(".panel"),n=i.data("settings"),d=i.data("pCount"),l=i.data("pIndex"),o=i.data("cIndex"),c=n.duration,u=n.carousel,p=100/parseInt(u),f=o-l,h=p*f,b=o+u;f<0&&(h=p*(f+=d),b+=d);var g=i.data("resetSlides"),m=i.data("resetTimeout");for(m&&(g(),clearTimeout(m)),e=0-h,a=0,s=l;s<b;s++)t=s<d?s:s-d,r.eq(t).addClass("init").css("left",e+"%"),r.eq(t).css("display"),r.eq(t).removeClass("init").css("left",a+"%"),a+=p,e+=p;g=function(){r.addClass("init"),m=!1},m=setTimeout(g,c),i.data({resetSlides:g,resetTimeout:m})},fade:function(){var e=this,a=e.children(".panel"),t=e.data("settings"),s=e.data("cIndex"),i=e.data("pIndex"),r=t.duration,n=e.data("resetSlides"),d=e.data("resetTimeout");d&&(n(),clearTimeout(d)),a.eq(s).removeClass("init").css("opacity",0),a.eq(i).show(),a.eq(i).css("display"),a.eq(i).removeClass("init").css("opacity",1),n=function(){a.eq(s).addClass("init").hide(),d=!1},d=setTimeout(n,r),e.data({resetSlides:n,resetTimeout:d})},blindFor:function(){var e=this,a=e.children(".panel"),t=a.children(".panel-inner"),s=e.data("settings"),i=e.data("cIndex"),r=e.data("pIndex"),n=s.duration,d=e.width(),l=e.data("resetSlides"),o=e.data("resetTimeout");o&&(l(),clearTimeout(o)),a.eq(i).css({left:0,right:""}),a.eq(i).css("display"),a.eq(i).removeClass("init").css({width:0}),a.eq(r).addClass("init").css({marginLeft:"",left:"",right:0}),t.eq(r).css({marginLeft:-d}),a.eq(r).css("display"),a.eq(r).removeClass("init").css({width:"100%"}),t.eq(r).css("display"),t.eq(r).css({marginLeft:0}),l=function(){a.eq(i).addClass("init"),a.eq(r).addClass("init").css({marginLeft:"",right:"",left:"",width:"100%"}),t.eq(r).css({marginLeft:0}),o=!1},o=setTimeout(l,n),e.data({resetSlides:l,resetTimeout:o})},blindBack:function(){var e=this,a=e.children(".panel"),t=a.children(".panel-inner"),s=e.data("settings"),i=e.data("cIndex"),r=e.data("pIndex"),n=e.width(),d=s.duration,l=e.data("resetSlides"),o=e.data("resetTimeout");o&&(l(),clearTimeout(o)),a.eq(i).addClass("init").css({left:"",right:0}),t.eq(i).css({marginLeft:""}),a.eq(i).css("display"),a.eq(i).removeClass("init").css({width:0}),t.eq(i).css("display"),t.eq(i).css({marginLeft:-n}),a.eq(r).addClass("init").css({left:0,right:""}),t.eq(r).css({marginLeft:0}),a.eq(r).css("display"),a.eq(r).removeClass("init").css({width:"100%"}),l=function(){a.eq(i).addClass("init"),a.eq(r).addClass("init").css({marginLeft:"",right:"",left:"",width:"100%"}),o=!1},o=setTimeout(l,d),e.data({resetSlides:l,resetTimeout:o})},slideFor:function(){var e=this,a=e.children(".panel"),t=e.data("settings"),s=e.data("cIndex"),i=e.data("pIndex"),r=t.duration,n=e.data("resetSlides"),d=e.data("resetTimeout");d&&(n(),clearTimeout(d)),a.eq(i).css("display"),a.eq(s).removeClass("init").css({transform:"translateX(-100%)"}),a.eq(i).css({transform:"translateX(100%)"}),a.eq(i).css("display"),a.eq(i).removeClass("init").css({transform:"translateX(0%)"}),n=function(){a.eq(s).addClass("init"),a.eq(i).addClass("init").css({transform:"translateX(0%)"}),d=!1},d=setTimeout(n,r),e.data({resetSlides:n,resetTimeout:d})},slideBack:function(){var e=this,a=e.children(".panel"),t=e.data("settings"),s=e.data("cIndex"),i=e.data("pIndex"),r=t.duration,n=e.data("resetSlides"),d=e.data("resetTimeout");d&&(n(),clearTimeout(d)),a.eq(i).css("display"),a.eq(s).removeClass("init").css({transform:"translateX(100%)"}),a.eq(i).addClass("init").css({transform:"translateX(-100%)"}),a.eq(i).css("display"),a.eq(i).removeClass("init").css({transform:"translateX(0%)"}),n=function(){a.eq(s).addClass("init"),a.eq(i).addClass("init"),d=!1},d=setTimeout(n,r),e.data({resetSlides:n,resetTimeout:d})},slideVertFor:function(){var e=this,a=e.children(".panel"),t=e.data("settings"),s=e.data("cIndex"),i=e.data("pIndex"),r=t.duration,n=e.data("resetSlides"),d=e.data("resetTimeout");d&&(n(),clearTimeout(d)),a.eq(i).css("display"),a.eq(s).removeClass("init").css({transform:"translateY(-100%)"}),a.eq(i).css({transform:"translateY(100%)"}),a.eq(i).css("display"),a.eq(i).removeClass("init").css({transform:"translateY(0%)"}),n=function(){a.eq(s).addClass("init"),a.eq(i).addClass("init").css({transform:"translateY(0%)"}),d=!1},d=setTimeout(n,r),e.data({resetSlides:n,resetTimeout:d})},slideVertBack:function(){var e=this,a=e.children(".panel"),t=e.data("settings"),s=e.data("cIndex"),i=e.data("pIndex"),r=t.duration,n=e.data("resetSlides"),d=e.data("resetTimeout");d&&(n(),clearTimeout(d)),a.eq(i).css("display"),a.eq(s).removeClass("init").css({transform:"translateY(100%)"}),a.eq(i).addClass("init").css({transform:"translateY(-100%)"}),a.eq(i).css("display"),a.eq(i).removeClass("init").css({transform:"translateY(0%)"}),n=function(){a.eq(s).addClass("init"),a.eq(i).addClass("init"),d=!1},d=setTimeout(n,r),e.data({resetSlides:n,resetTimeout:d})}};e.fn.bbslider=function(t){return a[t]?a[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void e.error("Method "+t+" does not exist on jQuery.bbslider"):a.init.apply(this,arguments)},e(".bb-pager-link").bbslider("bindpager")}(jQuery);
