/*!
 * Bare Bones Slider
 * http://www.bbslider.com/
 *
 * Author
 * Richard Hung
 * http://www.magicmediamuse.com/
 *
 * Version
 * 1.2.5
 *
 * Copyright (c) 2016 Richard Hung.
 *
 * License
 * Bare Bones Slider by Richard Hung is licensed under a Creative Commons Attribution-NonCommercial 3.0 Unported License.
 * http://creativecommons.org/licenses/by-nc/3.0/deed.en_US
 */
!function(e){"use strict";var a={init:function(a){var t={page:1,duration:1e3,controls:!1,pager:!1,pagerWrap:".pager-wrap",pageInfo:!1,infoWrap:".info-wrap",onDemand:!1,placeholder:"/images/blank.gif",auto:!1,timer:5e3,loop:!0,transition:"fade",callbackStart:null,callbackBefore:null,callbackAfter:null,callbackUpdate:null,easing:"ease",autoHeight:!0,dynamicHeight:!1,pauseOnHit:!0,randomPlay:!1,loopTrans:!0,touch:!1,touchoffset:50,carousel:!1,carouselMove:1};return a=e.extend({},t,a),this.each(function(){var t=e(this),s=t.children(),i=a.page-1,n=a.page-1,r=s.length;if(t.data({autoPlay:!1,pIndex:i,xIndex:i,cIndex:n,pCount:r,settings:a}),t.addClass("bbslider-wrapper"),s.addClass("panel"),a.onDemand&&(t.bbslider("placeholder"),s.eq(i).bbslider("loadImg")),a.pageInfo&&t.bbslider("infoParse"),a.pager&&t.bbslider("pager",a.pagerWrap),a.controls){var d=t.bbslider("controls"),l=d.next,o=d.prev;l.click(function(e){t.bbslider("next"),e.preventDefault(),a.pauseOnHit&&t.bbslider("pause")}),o.click(function(e){t.bbslider("prev"),e.preventDefault(),a.pauseOnHit&&t.bbslider("pause")})}if(a.touch){var c,u,p;t.on("touchstart",function(e){e.preventDefault();var a=e.originalEvent.touches[0]||e.originalEvent.changedTouches[0];c=a.pageX}),t.on("touchend",function(e){e.preventDefault();var s=e.originalEvent.touches[0]||e.originalEvent.changedTouches[0];u=s.pageX,p=a.touchoffset,u>c+p?(t.bbslider("prev"),a.pauseOnHit&&t.bbslider("pause")):c-p>u&&(t.bbslider("next"),a.pauseOnHit&&t.bbslider("pause"))})}a.auto&&t.bbslider("play"),t.bbslider("setup"),a.autoHeight&&t.bbslider("recalcHeight");var b=a.callbackStart;e.isFunction(b)&&b.call(this)})},update:function(){return this.each(function(){var a=e(this),t=a.children(":not(.control-wrapper)"),s=t.length,i=a.data("settings"),n=a.data("pIndex"),r=i.onDemand,d=i.pageInfo,l=i.pager,o=i.autoHeight,c=i.callbackUpdate;a.data("pCount",s),t.addClass("panel"),r&&(a.bbslider("placeholder"),t.eq(n).bbslider("loadImg")),d&&a.bbslider("infoParse"),l&&a.bbslider("pager"),a.bbslider("setup"),o&&a.bbslider("recalcHeight"),e.isFunction(c)&&c.call(this)})},destroy:function(){return this.each(function(){var a=e(this),t=a.children(".panel"),s=a.data("settings"),i=a.attr("id");if(a.removeClass("bbslider-wrapper carousel ease linear ease-in ease-out ease-in-out easeInQuad easeInCubic easeInQuart easeInQuint easeInSine easeInExpo easeInCirc easeInBack easeOutQuad easeOutCubic easeOutQuart easeOutQuint easeOutSine easeOutExpo easeOutCirc easeOutBack easeInOutQuad easeInOutCubic easeInOutQuart easeInOutQuint easeInOutSine easeInOutExpo easeInOutCirc easeInOutBack"),t.removeClass("panel active slide fade blind none slideVert"),a.css("height",""),a.data("onDemand")&&t.bbslider("loadImg"),a.data("pageInfo")){var n=a.data("infoWrap");n.empty()}var r=s.transition;switch(r){case"fade":t.removeClass("fade");break;case"slide":t.removeClass("slide");break;case"slideVert":t.removeClass("slideVert");break;case"blind":t.removeClass("blind"),a.find(".panel-inner").contents().unwrap();break;case"none":default:t.removeClass("none")}s.pager&&e("#"+i+"-pager").remove(),a.children(".prev-control-wrapper").remove(),a.children(".next-control-wrapper").remove();var d=a.data("autoPlay");d&&a.bbslider("pause"),a.removeData()})},recalcHeight:function(){return this.each(function(){var a,t=e(this),s=t.children(".panel"),i=t.data("settings"),n=t.data("pIndex"),r=t.data("pCount"),d=i.autoHeight,l=i.dynamicHeight,o=i.carousel,c=0,u=0;if(l&&d)if(o){a=n+parseInt(o);for(var p=n;a>p;p++){var b;b=r>p?p:p-r,u=s.eq(b).outerHeight(!0),u>c&&(c=u)}}else c=s.eq(n).outerHeight(!0);else s.each(function(){u=e(this).outerHeight(!0),u>c&&(c=u)});t.height(c)})},play:function(){return this.each(function(){var a=e(this),t=a.data("settings"),s=a.data("autoPlay"),i=t.randomPlay;if(!s){var n=t.duration,r=t.timer,d=setInterval(function(){i?a.bbslider("randomSlide"):a.bbslider("next")},r+n);a.data("tid",d),a.data("autoPlay",!0)}})},pause:function(){return this.each(function(){var a=e(this),t=a.data("tid"),s=a.data("autoPlay");s&&(clearInterval(t),a.data("autoPlay",!1))})},randomSlide:function(){return this.each(function(){var a=e(this),t=a.data("settings"),s=a.data("pCount"),i=a.data("pIndex"),n=t.loopTrans,r=Math.round(1+Math.floor(Math.random()*s)),d=r-1;n?(a.data("cIndex",i),a.data("pIndex",d),a.bbslider("forPage",d)):a.bbslider("travel",d)})},setup:function(){var a=this,t=a.children(".panel"),s=a.data("settings"),i=a.data("pIndex"),n=a.data("pCount"),r=s.transition,d=s.duration,l=s.carousel;if(t.addClass("init "+r),l){a.addClass("carousel "+s.easing);var o=100/parseInt(l),c=i+parseInt(l),u=b,p=0;t.css({width:o+"%",left:"100%"});for(var b=i;c>b;b++)u=b,b>=n&&(u=b-n),t.eq(u).css("left",p+"%"),p+=o,"fade"===r&&t.eq(u).css("opacity",1)}else switch(a.addClass(s.easing),r){case"fade":t.eq(i).show().css("opacity",1);break;case"slide":t.css("transform","translateX(100%)").eq(i).css("transform","translateX(0%)");break;case"slideVert":t.css("transform","translateY(100%)").eq(i).css("transform","translateY(0%)");break;case"blind":var h=a.width();t.children(".panel-inner").contents().unwrap(),t.wrapInner('<div class="panel-inner" />'),t.addClass("blind init").eq(i).css({width:"100%"}),t.children(".panel-inner").width(h);var f=0;t.children(".panel-inner").each(function(){var a=e(this).wrapInner("<div>").children().outerHeight(!0);a>f&&(f=a),e(this).children().contents().unwrap()}),t.height(f),t.children(".panel-inner").height(f)}t.eq(i).addClass("active"),a.add(t).css({WebkitTransitionDuration:d/1e3+"s",MozTransitionDuration:d/1e3+"s",OTransitionDuration:d/1e3+"s",transitionDuration:d/1e3+"s"})},placeholder:function(){var a=this.data("settings"),t=a.placeholder,s=this.children(".panel").find("img");s.each(function(){e(this).attr("data-placeholder")||(e(this).attr("data-placeholder",e(this).attr("src")),e(this).attr("src",t))})},loadImg:function(){var a=this.find("img");a.each(function(){e(this).attr("src",e(this).attr("data-placeholder")).removeAttr("data-placeholder")})},infoParse:function(){var a=this,t=a.data("settings"),s=a.data("pCount"),i=a.data("pIndex"),n=e(t.infoWrap),r=i+1;n.text(r+" of "+s)},pager:function(){var a=this,t=a.children(".panel"),s=a.data("pCount"),i=a.data("settings"),n=a.attr("id"),r=e(i.pagerWrap);r.find("#"+n+"-pager").remove();for(var d=e('<ul class="page-list" id="'+n+'-pager" />').appendTo(r),l=1;s>=l;l++){var o;o=t.eq(l-1).attr("title")?t.eq(l-1).attr("title"):l,e('<li><a href="#'+l+'" data-link="'+n+'" class="bb-pager-link">'+o+"</a></li>").appendTo(d)}d.find("a").bbslider("bindpager"),a.bbslider("pagerUpdate")},pagerUpdate:function(){var a=this.attr("id"),t=this.data("pIndex");e("#"+a+"-pager").children().removeClass("activePanel").eq(t).addClass("activePanel")},bindpager:function(){return this.on("click",function(a){var t=e(this).attr("href"),s=t.substring(t.indexOf("#")),i=parseInt(s.substring(1))-1,n=e(this).attr("data-link"),r=e("#"+n),d=r.data("pIndex"),l=r.data("settings"),o=l.pauseOnHit;i>d?(r.data("cIndex",d),d=i,r.data("pIndex",d),r.bbslider("forPage",d)):d>i&&(r.data("cIndex",d),d=i,r.data("pIndex",d),r.bbslider("backPage",d)),o&&r.bbslider("pause"),a.preventDefault()})},controls:function(){var a=this.data("settings"),t=this.data("pIndex"),s=this.data("pCount"),i=a.loop,n=e('<a class="prev control" href="#">Prev</a>').prependTo(this),r=e('<a class="next control" href="#">Next</a>').prependTo(this);n.wrap('<div class="prev-control-wrapper control-wrapper" />'),r.wrap('<div class="next-control-wrapper control-wrapper" />');var d=this.children(".prev-control-wrapper"),l=this.children(".next-control-wrapper");0!==t||i||d.css("display","none"),t+1>=s&&!i&&l.css("display","none");var o={};return o.next=r,o.prev=n,o},prev:function(){return this.each(function(){var a=e(this),t=a.data("settings"),s=t.loop,i=a.data("pCount"),n=a.data("pIndex"),r=t.loopTrans,d=t.carousel,l=t.carouselMove,o=n,c=t.callbackBefore;return d?(n=o-l,0>n&&(n+=i)):n>0?n=o-1:s&&(n=i-1),a.data("xIndex",n),e.isFunction(c)&&c.call(this)===!1?!1:(a.data("cIndex",o),a.data("autoPlay")&&a.bbslider("pause").bbslider("play"),a.data("pIndex",n),void(d?a.bbslider("backPage",n):n>0?a.bbslider("backPage",n):s&&(r?a.bbslider("backPage",n):a.bbslider("forPage",n))))})},next:function(){return this.each(function(){var a=e(this),t=a.data("settings"),s=a.data("pCount"),i=a.data("pIndex"),n=t.loop,r=t.loopTrans,d=t.carousel,l=t.carouselMove,o=i,c=t.callbackBefore;return d?(i=o+l,i+d+1>s&&(i-=s)):s>i+1?i=o+1:n&&(i=0),a.data("xIndex",i),e.isFunction(c)&&c.call(this)===!1?!1:(a.data("cIndex",o),a.data("autoPlay")&&a.bbslider("pause").bbslider("play"),a.data("pIndex",i),void(d?a.bbslider("forPage",i):s>i+1?a.bbslider("forPage",i):n&&(r?a.bbslider("forPage",i):a.bbslider("backPage",i))))})},travel:function(a){return this.each(function(){var t,s=e(this),i=s.data("settings"),n=s.data("pIndex"),r=s.data("pCount"),d=i.carousel,l=i.callbackBefore;if(s.data("xIndex",a),e.isFunction(l)&&l.call(this)===!1)return!1;if(s.data("autoPlay")&&s.bbslider("pause").bbslider("play"),d){t=n,n=a,s.data("pIndex",n),s.data("cIndex",t);var o,c;n>t?(o=n-r,c=n):(o=n,c=n+r);var u=[o,c],p=t,b=null;e.each(u,function(){(null===b||Math.abs(this-p)<Math.abs(b-p))&&(b=this)}),b>p?s.bbslider("forPage",n):s.bbslider("backPage",n)}else a>n?(t=n,n=a,s.data("pIndex",n),s.data("cIndex",t),s.bbslider("forPage",n)):n>a&&(t=n,n=a,s.data("pIndex",n),s.data("cIndex",t),s.bbslider("backPage",n))})},backPage:function(){return this.each(function(){var a=e(this),t=a.children(".panel"),s=a.data("settings"),i=a.data("pIndex"),n=s.loop,r=s.transition,d=s.carousel,l=s.autoHeight,o=s.dynamicHeight,c=s.duration;if(t.removeClass("active").eq(i).addClass("active"),s.onDemand&&t.eq(i).bbslider("loadImg"),a.children(".panel").stop(!0,!0),d)switch(r){case"fade":a.bbslider("carFade");break;case"slide":a.bbslider("carSlideBack");break;case"none":default:a.bbslider("carToggle")}else switch(r){case"fade":a.bbslider("fade");break;case"slide":a.bbslider("slideBack");break;case"slideVert":a.bbslider("slideVertBack");break;case"blind":a.bbslider("blindBack")}0!==i||n||a.find(".prev-control-wrapper").css("display","none"),a.find(".next-control-wrapper").css("display","block"),s.pageInfo&&a.bbslider("infoParse"),a.bbslider("pagerUpdate"),o&&l&&a.bbslider("recalcHeight");var u=s.callbackAfter;e.isFunction(u)&&setTimeout(function(){u.call(this)},c)})},forPage:function(){return this.each(function(){var a=e(this),t=a.children(".panel"),s=a.data("settings"),i=a.data("pCount"),n=a.data("pIndex"),r=s.loop,d=s.carousel,l=s.transition,o=s.autoHeight,c=s.dynamicHeight,u=s.duration;if(t.removeClass("active").eq(n).addClass("active"),s.onDemand&&t.eq(n).bbslider("loadImg"),a.children(".panel").stop(!0,!0),d)switch(l){case"fade":a.bbslider("carFade");break;case"slide":a.bbslider("carSlideFor");break;case"none":default:a.bbslider("carToggle")}else switch(l){case"fade":a.bbslider("fade");break;case"slide":a.bbslider("slideFor");break;case"slideVert":a.bbslider("slideVertFor");break;case"blind":a.bbslider("blindFor")}n+1>=i&&!r&&a.find(".next-control-wrapper").css("display","none"),a.find(".prev-control-wrapper").css("display","block"),s.pageInfo&&a.bbslider("infoParse"),a.bbslider("pagerUpdate"),c&&o&&a.bbslider("recalcHeight");var p=s.callbackAfter;e.isFunction(p)&&setTimeout(function(){p.call(this)},u)})},carToggle:function(){var e=this,a=e.children(".panel"),t=e.data("settings"),s=e.data("pCount"),i=e.data("pIndex"),n=t.carousel,r=100/parseInt(n),d=i+parseInt(n);a.css("left","100%");for(var l=0,o=i;d>o;o++){var c;c=s>o?o:o-s,a.eq(c).css("left",l+"%"),l+=r}},carFade:function(){var e=this,a=e.children(".panel"),t=e.data("settings"),s=e.data("pCount"),i=e.data("pIndex"),n=t.duration,r=t.carousel,d=100/parseInt(r),l=i+parseInt(r),o=e.data("resetSlides"),c=e.data("resetTimeout");c&&(o(),clearTimeout(c)),a.removeClass("init").css("opacity",0),o=function(){a.addClass("init").css("left","100%");for(var e=0,t=i;l>t;t++){var n;n=s>t?t:t-s,a.eq(n).css("left",e+"%"),a.eq(n).removeClass("init").css("opacity",1),e+=d}c=!1},c=setTimeout(o,n),e.data({resetSlides:o,resetTimeout:c})},carSlideFor:function(){var e,a,t,s,i=this,n=i.children(".panel"),r=i.data("settings"),d=i.data("pIndex"),l=i.data("cIndex"),o=i.data("pCount"),c=r.duration,u=r.carousel,p=d-l,b=100/parseInt(u),h=b*p,f=d+parseInt(u);l>d&&(p=d-l+o,h=b*p,f+=o);var g=i.data("resetSlides"),v=i.data("resetTimeout");for(v&&(g(),clearTimeout(v)),e=0,a=e-h,s=l;f>s;s++)t=o>s?s:s-o,n.eq(t).css("left",e+"%"),n.eq(t).css("display"),n.eq(t).removeClass("init").css("left",a+"%"),e+=b,a+=b;g=function(){n.addClass("init"),v=!1},v=setTimeout(g,c),i.data({resetSlides:g,resetTimeout:v})},carSlideBack:function(){var e,a,t,s,i=this,n=i.children(".panel"),r=i.data("settings"),d=i.data("pCount"),l=i.data("pIndex"),o=i.data("cIndex"),c=r.duration,u=r.carousel,p=100/parseInt(u),b=o-l,h=p*b,f=o+u;0>b&&(b+=d,h=p*b,f+=d);var g=i.data("resetSlides"),v=i.data("resetTimeout");for(v&&(g(),clearTimeout(v)),e=0-h,a=0,s=l;f>s;s++)t=d>s?s:s-d,n.eq(t).addClass("init").css("left",e+"%"),n.eq(t).css("display"),n.eq(t).removeClass("init").css("left",a+"%"),a+=p,e+=p;g=function(){n.addClass("init"),v=!1},v=setTimeout(g,c),i.data({resetSlides:g,resetTimeout:v})},fade:function(){var e=this,a=e.children(".panel"),t=e.data("settings"),s=e.data("cIndex"),i=e.data("pIndex"),n=t.duration,r=e.data("resetSlides"),d=e.data("resetTimeout");d&&(r(),clearTimeout(d)),a.eq(s).removeClass("init").css("opacity",0),a.eq(i).show(),a.eq(i).css("display"),a.eq(i).removeClass("init").css("opacity",1),r=function(){a.eq(s).addClass("init").hide(),d=!1},d=setTimeout(r,n),e.data({resetSlides:r,resetTimeout:d})},blindFor:function(){var e=this,a=e.children(".panel"),t=a.children(".panel-inner"),s=e.data("settings"),i=e.data("cIndex"),n=e.data("pIndex"),r=s.duration,d=e.width(),l=e.data("resetSlides"),o=e.data("resetTimeout");o&&(l(),clearTimeout(o)),a.eq(i).css({left:0,right:""}),a.eq(i).css("display"),a.eq(i).removeClass("init").css({width:0}),a.eq(n).addClass("init").css({marginLeft:"",left:"",right:0}),t.eq(n).css({marginLeft:-d}),a.eq(n).css("display"),a.eq(n).removeClass("init").css({width:"100%"}),t.eq(n).css("display"),t.eq(n).css({marginLeft:0}),l=function(){a.eq(i).addClass("init"),a.eq(n).addClass("init").css({marginLeft:"",right:"",left:"",width:"100%"}),t.eq(n).css({marginLeft:0}),o=!1},o=setTimeout(l,r),e.data({resetSlides:l,resetTimeout:o})},blindBack:function(){var e=this,a=e.children(".panel"),t=a.children(".panel-inner"),s=e.data("settings"),i=e.data("cIndex"),n=e.data("pIndex"),r=e.width(),d=s.duration,l=e.data("resetSlides"),o=e.data("resetTimeout");o&&(l(),clearTimeout(o)),a.eq(i).addClass("init").css({left:"",right:0}),t.eq(i).css({marginLeft:""}),a.eq(i).css("display"),a.eq(i).removeClass("init").css({width:0}),t.eq(i).css("display"),t.eq(i).css({marginLeft:-r}),a.eq(n).addClass("init").css({left:0,right:""}),t.eq(n).css({marginLeft:0}),a.eq(n).css("display"),a.eq(n).removeClass("init").css({width:"100%"}),l=function(){a.eq(i).addClass("init"),a.eq(n).addClass("init").css({marginLeft:"",right:"",left:"",width:"100%"}),o=!1},o=setTimeout(l,d),e.data({resetSlides:l,resetTimeout:o})},slideFor:function(){var e=this,a=e.children(".panel"),t=e.data("settings"),s=e.data("cIndex"),i=e.data("pIndex"),n=t.duration,r=e.data("resetSlides"),d=e.data("resetTimeout");d&&(r(),clearTimeout(d)),a.eq(i).css("display"),a.eq(s).removeClass("init").css({transform:"translateX(-100%)"}),a.eq(i).css({transform:"translateX(100%)"}),a.eq(i).css("display"),a.eq(i).removeClass("init").css({transform:"translateX(0%)"}),r=function(){a.eq(s).addClass("init"),a.eq(i).addClass("init").css({transform:"translateX(0%)"}),d=!1},d=setTimeout(r,n),e.data({resetSlides:r,resetTimeout:d})},slideBack:function(){var e=this,a=e.children(".panel"),t=e.data("settings"),s=e.data("cIndex"),i=e.data("pIndex"),n=t.duration,r=e.data("resetSlides"),d=e.data("resetTimeout");d&&(r(),clearTimeout(d)),a.eq(i).css("display"),a.eq(s).removeClass("init").css({transform:"translateX(100%)"}),a.eq(i).addClass("init").css({transform:"translateX(-100%)"}),a.eq(i).css("display"),a.eq(i).removeClass("init").css({transform:"translateX(0%)"}),r=function(){a.eq(s).addClass("init"),a.eq(i).addClass("init"),d=!1},d=setTimeout(r,n),e.data({resetSlides:r,resetTimeout:d})},slideVertFor:function(){var e=this,a=e.children(".panel"),t=e.data("settings"),s=e.data("cIndex"),i=e.data("pIndex"),n=t.duration,r=e.data("resetSlides"),d=e.data("resetTimeout");d&&(r(),clearTimeout(d)),a.eq(i).css("display"),a.eq(s).removeClass("init").css({transform:"translateY(-100%)"}),a.eq(i).css({transform:"translateY(100%)"}),a.eq(i).css("display"),a.eq(i).removeClass("init").css({transform:"translateY(0%)"}),r=function(){a.eq(s).addClass("init"),a.eq(i).addClass("init").css({transform:"translateY(0%)"}),d=!1},d=setTimeout(r,n),e.data({resetSlides:r,resetTimeout:d})},slideVertBack:function(){var e=this,a=e.children(".panel"),t=e.data("settings"),s=e.data("cIndex"),i=e.data("pIndex"),n=t.duration,r=e.data("resetSlides"),d=e.data("resetTimeout");d&&(r(),clearTimeout(d)),a.eq(i).css("display"),a.eq(s).removeClass("init").css({transform:"translateY(100%)"}),a.eq(i).addClass("init").css({transform:"translateY(-100%)"}),a.eq(i).css("display"),a.eq(i).removeClass("init").css({transform:"translateY(0%)"}),r=function(){a.eq(s).addClass("init"),a.eq(i).addClass("init"),d=!1},d=setTimeout(r,n),e.data({resetSlides:r,resetTimeout:d})}};e.fn.bbslider=function(t){return a[t]?a[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void e.error("Method "+t+" does not exist on jQuery.bbslider"):a.init.apply(this,arguments)},e(".bb-pager-link").bbslider("bindpager")}(jQuery);
